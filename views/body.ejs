<h2>Players</h2>
<table>
  <thead>
    <tr>
      <th>Player</th>
      <% for (const company in gameState.companies) { %>
        <th><%= company %></th>
      <% } %>
      <th>Money</th>
    </tr>
  </thead>
  <tbody>
    <% for (const player in gameState.players) { %>
      <tr>
        <td><%= player %></td>
        <% for (const company in gameState.companies) { %>
          <td>
            <%= gameState.players[player].shares[company] || 0 %>
            <form action="/buy-share" method="POST" style="display:inline;">
              <input type="hidden" name="player" value="<%= player %>">
              <input type="hidden" name="company" value="<%= company %>">
              <button type="submit">+</button>
            </form>
            <form action="/sell-share" method="POST" style="display:inline;">
              <input type="hidden" name="player" value="<%= player %>">
              <input type="hidden" name="company" value="<%= company %>">
              <button type="submit">-</button>
            </form>
          </td>
        <% } %>
        <td>$<%= gameState.players[player].money %></td>
      </tr>
    <% } %>
  </tbody>
</table>

<h2>Companies</h2>
<ul>
  <% for (const company in gameState.companies) { %>
    <li><%= company %>: $<%= gameState.companies[company].money %> (Price: $<%= gameState.companies[company].price %>)</li>
  <% } %>
</ul>

<h2>Recent Moves</h2>
<ul>
  <% gameState.log.slice(-10).reverse().forEach(move => { %>
    <li><%= move %></li>
  <% }) %>
</ul>

<h2>Actions</h2>

<form action="/update-company-price" method="POST">
  <h3>Update Company Price</h3>
  <label>Company: 
    <select name="company">
      <% for (const company in gameState.companies) { %>
        <option value="<%= company %>"><%= company %></option>
      <% } %>
    </select>
  </label>
  <label>Price: <input type="number" name="price"></label>
  <button type="submit">Update Price</button>
</form>

<form action="/update-company-money" method="POST">
  <h3>Update Company Money</h3>
  <label>Company: 
    <select name="company">
      <% for (const company in gameState.companies) { %>
        <option value="<%= company %>"><%= company %></option>
      <% } %>
    </select>
  </label>
  <label>Amount: <input type="number" name="amount"></label>
  <button type="submit">Update</button>
</form>

<form action="/pay-per-share" method="POST">
  <h3>Pay Per Share</h3>
  <label>Company: 
    <select name="company">
      <% for (const company in gameState.companies) { %>
        <option value="<%= company %>"><%= company %></option>
      <% } %>
    </select>
  </label>
  <label>Amount per Share: <input type="number" name="amount"></label>
  <button type="submit">Pay</button>
</form>
